name: Nightly Release Internal

on:
  workflow_dispatch:
  schedule:
    - cron: "0 2 * * 1-4"  # Every Monâ€“Thu at 02:00 UTC (03:00 UK/BST)

jobs:
  generateTag:
    name: Generate Release Tag
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      # ---------------------------------------------
      # ðŸ”– Checks for Commits & Generates Release Tag
      # ---------------------------------------------
      - name: ðŸ”§ Run tag release script
        run: .github/scripts/tag_release.sh

      # ---------------------------------------------
      # ðŸš€ Tags the Release & Generates Release Notes
      # ---------------------------------------------
      - name: Create GitHub Release
        uses: ncipollo/release-action@v1
        with:
          generateReleaseNotes: true
          tag: ${{ env.RELEASE_TAG }}
          token: ${{ secrets.GH_TOKEN }}
